# Agent Context Manager å¼€å‘ä»»åŠ¡è®¡åˆ’

## Phase 1: é¡¹ç›®åˆå§‹åŒ– âœ…

- [x] ä½¿ç”¨ Vite + Electron æ¨¡æ¿åˆå§‹åŒ–é¡¹ç›®
- [x] é…ç½® TypeScript 5.9 ä¸¥æ ¼æ¨¡å¼
- [x] é…ç½® Tailwind CSS v4
- [x] é…ç½® ESLint + Prettier
- [x] åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„

## Phase 2: æ ¸å¿ƒæœåŠ¡å±‚ `[/]`

> [!NOTE]
> æ ¸å¿ƒæœåŠ¡æ­£åœ¨æ ¹æ® [Design 05_config](docs/design/05_config.md) çš„**åˆ†å±‚å­˜å‚¨æ–¹æ¡ˆ**è¿›è¡Œé‡æ„ã€‚

### 2.1 é…ç½®æœåŠ¡ (ConfigService) âœ…

- [x] **åˆå§‹ ConfigService å®ç°**
- [x] **é‡æ„ï¼šå®ç°åˆ†å±‚é…ç½®é€»è¾‘**
  - [x] `SystemConfig` (App Data) ä¸ `UserConfig` (Base Dir) åˆ†ç¦»
  - [x] å¼‚æ­¥å»æŠ– (Debounce) æŒä¹…åŒ–
  - [x] é…ç½®æ–‡ä»¶å¤´éƒ¨æ³¨é‡Šæ³¨å…¥
- [x] **å®ç°å¯åŠ¨æµç¨‹æ”¯æŒ**
  - [x] `checkGitInstalled`
  - [x] `resolveVariables` (${HOME}, ${APPDATA} ç­‰)

### 2.2 AI AgentæœåŠ¡ (PlatformService) `[/]`

> å‚è€ƒ: [Design 02_platform](docs/design/02_platform.md)

- [x] åˆå§‹ `PlatformService` å®ç° (Old)
- [ ] **é‡æ„ï¼šé€‚é… `ConfigService`**
  - [ ] `list()`: ä» `ConfigService.getUserConfig().agents` è¯»å–
  - [ ] `create/update/delete`: è°ƒç”¨ `ConfigService.setUserConfig` æ›´æ–° `.agents` æ•°ç»„
  - [ ] ç§»é™¤æ—§çš„æ–‡ä»¶ç³»ç»Ÿ (`platforms/*.yaml`) è¯»å–é€»è¾‘
- [ ] **å®ç°é¢„è®¾ (Presets) é€»è¾‘**
  - [ ] åŠ è½½å†…ç½® `resources/presets`
  - [ ] å®ç° `getPresets()` æ–¹æ³•

### 2.3 Skills æœåŠ¡ (SkillService & GitService) `[/]`

> å‚è€ƒ: [Design 03_skills](docs/design/03_skills.md)

- [x] åˆå§‹ `GitService` å®ç° (Old)
- [ ] **é‡æ„ï¼šSkillRepo ç®¡ç†**
  - [ ] `GitService`: è´Ÿè´£ clone/pull/check-update
  - [ ] ä»“åº“å…ƒæ•°æ®å­˜å‚¨äº `ConfigService.getUserConfig().skills`
- [ ] **å®ç° Skill æ‰«æé€»è¾‘**
  - [ ] åˆ›å»º `SkillService`
  - [ ] å®ç° `scanSkills(repoPath)`: é€’å½’æŸ¥æ‰¾ `SKILL.MD`
  - [ ] è§£æ `SKILL.MD` æå–æè¿°ä¿¡æ¯

### 2.4 Rules æœåŠ¡ (RuleService) `[/]`

> å‚è€ƒ: [Design 04_rules](docs/design/04_rules.md)

- [x] åˆå§‹ `RuleService` å®ç° (Old)
- [ ] **é‡æ„ï¼šé€‚é… `ConfigService`**
  - [ ] `list()`: ä» `ConfigService.getUserConfig().rules` è¯»å–
  - [ ] `create/delete`: æ›´æ–°é…ç½®ä¸­çš„ Rules åˆ—è¡¨
  - [ ] ä¿æŒ `.md` æ–‡ä»¶å­˜å‚¨åœ¨ `rules/` ç›®å½•ä¸‹
- [ ] **å®ç° Rule éƒ¨ç½²é€»è¾‘ (RuleDeployService)**
  - [ ] å®ç°æ ‡è®°ç”Ÿæˆ `<!-- SKILLS_MANAGER_RULE_START:id -->`
  - [ ] å®ç° `deploy`: è¯»å–ç›®æ ‡æ–‡ä»¶ -> æ¸…ç†æ—§å†…å®¹ -> æ³¨å…¥æ–°å†…å®¹ -> ä¿å­˜
  - [ ] å®ç° `undeploy`: æ¸…ç†æ ‡è®°å†…å®¹

### 2.5 ç¬¦å·é“¾æ¥æœåŠ¡ (SymlinkService) âœ…

- [x] å®ç° `SymlinkService` ç±»
- [x] Windows junction åˆ›å»º/åˆ é™¤
- [x] æƒé™æ£€æµ‹ä¸æç¤º

## Phase 3: IPC é€šä¿¡å±‚ `[/]`

- [x] å®šä¹‰ IPC Channel å¸¸é‡
- [ ] **å®Œå–„ Main è¿›ç¨‹ IPC å¤„ç†å™¨**
  - [x] Config IPC (`config:*`)
  - [ ] Platform IPC (`platform:*`)
  - [ ] Skills/Repo IPC (`repo:*`, `skill:*`)
  - [ ] Rule IPC (`rule:*`)
- [ ] **å®Œå–„ Renderer è¿›ç¨‹ IPC å®¢æˆ·ç«¯**
  - [x] `window.api` ç±»å‹å®šä¹‰
  - [ ] è¡¥å…¨æ‰€æœ‰è®¾è®¡æ–‡æ¡£ä¸­å®šä¹‰çš„æ¥å£

## Phase 4: å‰ç«¯ç•Œé¢ `[/]`

### 4.1 å¯åŠ¨æµç¨‹ âœ…

> å‚è€ƒ: [Design 01_startup](docs/design/01_startup.md)

- [x] Git ç¯å¢ƒæ£€æµ‹
- [x] åˆå§‹åŒ–å‘å¯¼ (Base Dir é€‰æ‹©)
- [x] å›½é™…åŒ– (i18n) æ”¯æŒ

### 4.2 ä¸»ç•Œé¢æ¡†æ¶

- [ ] **Layout ç»„ä»¶**
  - [ ] é¡¶éƒ¨å¯¼èˆªæ  (Logo + Tabs)
  - [ ] åº•éƒ¨çŠ¶æ€æ  (ç‰ˆæœ¬ä¿¡æ¯)
- [ ] **å…¨å±€çŠ¶æ€ (useStore)**
  - [ ] é›†æˆ Platform, Skills, Rules çŠ¶æ€

### 4.3 AI Agentç®¡ç† (Agents Tab)

> å‚è€ƒ: [Design 02_platform](docs/design/02_platform.md)

- [ ] **Agent åˆ—è¡¨è§†å›¾**
  - [ ] å±•ç¤º Agent å¡ç‰‡ (åŒ…å« Skills/Rules è·¯å¾„çŠ¶æ€)
  - [ ] ç»‘å®š/è§£ç»‘ Skills æ¦‚è§ˆ
- [ ] **æ–°å»º Agent å¯¹è¯æ¡†**
  - [ ] é¢„è®¾é€‰æ‹©å™¨ (Tab: é¢„è®¾ / è‡ªå®šä¹‰)
  - [ ] è¡¨å•éªŒè¯

### 4.4 Skills ç®¡ç† (Skills Tab)

> å‚è€ƒ: [Design 03_skills](docs/design/03_skills.md)

- [ ] **ä»“åº“åˆ—è¡¨è§†å›¾**
  - [ ] å±•ç¤ºå·²æ·»åŠ çš„ Skill Repos
  - [ ] çŠ¶æ€æŒ‡ç¤ºå™¨ (Up-to-date, Behind, Confirming)
  - [ ] æ“ä½œæŒ‰é’®: æ›´æ–°, åˆ é™¤, è¯¦æƒ…
- [ ] **æ·»åŠ ä»“åº“å¯¹è¯æ¡†**
  - [ ] è¾“å…¥ URL / é€‰æ‹©æœ¬åœ°è·¯å¾„
- [ ] **Skill è¯¦æƒ…/éƒ¨ç½²é¡µ**
  - [ ] å±•ç¤ºä»“åº“å†…æ‰«æåˆ°çš„ Skills
  - [ ] éƒ¨ç½²çŸ©é˜µ: Skill x Agent (Checkbox)
  - [ ] è§¦å‘ `skill:link` / `skill:unlink`

### 4.5 Rules ç®¡ç† (Rules Tab)

> å‚è€ƒ: [Design 04_rules](docs/design/04_rules.md)

- [ ] **Rules åˆ—è¡¨è§†å›¾**
  - [ ] å±•ç¤º Rule æ–‡ä»¶åˆ—è¡¨
  - [ ] éƒ¨ç½²çŠ¶æ€æ¦‚è§ˆ
- [ ] **Rule ç¼–è¾‘å™¨**
  - [ ] Markdown ç¼–è¾‘é¢„è§ˆ
  - [ ] éƒ¨ç½²é…ç½® (é€‰æ‹©ç”Ÿæ•ˆçš„ Agents)

## Phase 5: CI/CD

> å‚è€ƒ: [Design 06_cicd](docs/design/06_cicd.md)

- [ ] GitHub Actions å·¥ä½œæµé…ç½®
- [ ] electron-builder é…ç½® (Win/Mac/Linux)
- [ ] Release è‡ªåŠ¨å‘å¸ƒ

## Phase 6: æµ‹è¯•ä¸æ–‡æ¡£

- [ ] **å•å…ƒæµ‹è¯•**
  - [ ] ConfigService (Done)
  - [ ] PlatformService
  - [ ] SkillService
  - [ ] RuleService / RuleDeployService
- [ ] **æ–‡æ¡£**
  - [ ] ç”¨æˆ·æ‰‹å†Œ (README.md)
  - [ ] å¼€å‘è´¡çŒ®æŒ‡å—

## é‡Œç¨‹ç¢‘

| é˜¶æ®µ | çŠ¶æ€ | äº¤ä»˜ç‰© |
|------|------|--------|
| Phase 1 | âœ… å®Œæˆ | é¡¹ç›®éª¨æ¶ |
| Phase 2 | ğŸš§ è¿›è¡Œä¸­ | æ ¸å¿ƒæœåŠ¡ (åˆ†ç¦»å­˜å‚¨é‡æ„) |
| Phase 3 | â³ ç­‰å¾… | IPC é€šä¿¡ |
| Phase 4 | â³ ç­‰å¾… | å®Œæ•´ç•Œé¢ |
| Phase 5 | â³ ç­‰å¾… | è‡ªåŠ¨æ„å»º |
| Phase 6 | â³ ç­‰å¾… | æµ‹è¯•æ–‡æ¡£ |
